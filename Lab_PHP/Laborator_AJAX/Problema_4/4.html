<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="jquery-3.6.0.js"></script>
    <link rel="stylesheet" href="4.css">
    <title>Problema 4</title>
</head>

<body>
    <table id="tabel">
        <tr>
            <td id="0" onclick="move(this.id)"></td>
            <td id="1" onclick="move(this.id)"></td>
            <td id="2" onclick="move(this.id)"></td>
        </tr>
        <tr>
            <td id="3" onclick="move(this.id)"></td>
            <td id="4" onclick="move(this.id)"></td>
            <td id="5" onclick="move(this.id)"></td>
        </tr>
        <tr>
            <td id="6" onclick="move(this.id)"></td>
            <td id="7" onclick="move(this.id)"></td>
            <td id="8" onclick="move(this.id)"></td>
        </tr>
    </table>
</body>

<script>
    function move(id){
        //console.log(id);
        $.get("data.php?mutare="+id, function (data,status){

            if(data==="draw"){
                $("#tabel").empty();
                alert("draw");

            }
            else if (data==="human"){
                $("#tabel").empty();
                alert("human won");
            }
            else if (data==="pc"){
                $("#tabel").empty();
                alert("pc won");
            }
            else{
                $("#"+id).html("X");
                $("#"+data).html("0");
            }
            console.log(data);

        });
    }

    function moveJs(id){
        var xmlhttp = new XMLHttpRequest();

        xmlhttp.onreadystatechange = function (){
            if(this.response==="draw"){
                //document.getElementById("tabel").empty();
                alert("draw");

            }
            else if (this.response==="human"){
                //$("#tabel").empty();
                alert("human won");
            }
            else if (this.response==="pc"){
                //$("#tabel").empty();
                alert("pc won");
            }
            else{
                document.getElementById(id).innerHTML="X";
                console.log(this.responseText);
                document.getElementById(this.responseText).innerHTML="0";
            }
        }

        xmlhttp.open("GET", "data.php?mutare=" + id, true);
        xmlhttp.send();

    }
</script>

</html>